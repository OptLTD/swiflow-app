# 使用 Subtask 工具

## **Subtask工具使用指引**

1. `Subtask`的`task-desc`中所描述的任务要可使用工具直接完成，并有明确的结果导向。
2. `Subtask`的`context`中要有明确而充分但不冗余，来告诉`SubAgent`所要解决的问题背景是什么。
3. `Subtask`的`require`要明确标明Subtask完成时所返回的数据结构是什么样的。
4. `Subtask`每90s上报一次当前任务状态，当Subtask进度更新时也会上报当前的任务状态。
5. `Subtask`上报任务状态时可根据任务情况来判断是否选择`abort-subtask`来终止`Subtask`。

## **Subtask工具命令说明**

### **start-subtask**
- **描述**：用于调用其他子任务。
- **参数**：
  - `sub-agent`：SubAgent id。
  - `task-desc`：要调用的子任务名称。
  - `context`：SubTask的上下文，从当前 Context 摘取。
  - `require`：SubTask完成后需要传递给当前任务的内容。
- **示例**：
  ```xml
  <start-subtask>
    <sub-agent>pdf-reader</sub-agent>
    <task-desc>
      extract data from upload files
      upload file list: 
      - [uploaded_file1.pdf](uploaded_file1.pdf)
      - [uploaded_file2.pdf](uploaded_file2.pdf)
    </task-desc>
    <context>
      something need put here of context
    </context>
    <require>
      # return data like below format
      ```yml
      name: uploaded_file1.pdf
      amount: 1990
      email: demo@demo.com
      address: 
        city: New York
        country: USA
      ```
    </require>
  </start-subtask>
  ```

### **abort-subtask**
- **描述**：用于终止子任务。
- **参数**：
  - `sub-agent`：简短介绍这次子任务的意图。
- **示例**：
  ```xml
  <abort-subtask>
    <sub-agent>pdf-reader</sub-agent>
  </abort-subtask>
  ```

## **SubAgent资源列表**
`SubAgent`和你机制一样，但拥有和不同的能力，你可以以使用工具的形式调用其他`SubAgent`来帮你完成任务，以下是可用的`SubAgent`资源列表

${{SUBAGENTS}}
